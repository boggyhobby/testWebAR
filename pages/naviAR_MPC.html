<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Location-based AR.js demo</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <style>
      #debug {
        position: fixed;
        z-index: 10000;
        background-color: #fff;
        padding: 10px;
        top: 0;
        left: 0;
        display: block;
      }
    </style>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <div id="debug"></div>
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >

      <a-box
        material="color: #f00"
        gps-entity-place="latitude: 35.6289682; longitude: 139.7404122;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #e10"
        gps-entity-place="latitude: 35.6289756; longitude: 139.7406780;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #d20"
        gps-entity-place="latitude: 35.6289816; longitude: 139.7409570;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #c30"
        gps-entity-place="latitude: 35.6291126; longitude: 139.7410375;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #b40"
        gps-entity-place="latitude: 35.6292903; longitude: 139.7411069;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #a50"
        gps-entity-place="latitude: 35.6293992; longitude: 139.7413434;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #960"
        gps-entity-place="latitude: 35.6296710; longitude: 139.7413898;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #870"
        gps-entity-place="latitude: 35.6299302; longitude: 139.7414237;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #780"
        gps-entity-place="latitude: 35.6299130; longitude: 139.7417435;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #690"
        gps-entity-place="latitude: 35.6296405; longitude: 139.7418750;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #5a0"
        gps-entity-place="latitude: 35.6296015; longitude: 139.7421593;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #4b0"
        gps-entity-place="latitude: 35.6296209; longitude: 139.7424855;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #3c0"
        gps-entity-place="latitude: 35.6295808; longitude: 139.7427849;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #2d0"
        gps-entity-place="latitude: 35.6295816; longitude: 139.7429579;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #1e0"
        gps-entity-place="latitude: 35.6295249; longitude: 139.7432721;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #0f0"
        gps-entity-place="latitude: 35.6295091; longitude: 139.7435715;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #0e1"
        gps-entity-place="latitude: 35.6294942; longitude: 139.7438179;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #0d2"
        gps-entity-place="latitude: 35.6294702; longitude: 139.7440606;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #0c3"
        gps-entity-place="latitude: 35.6294639; longitude: 139.7443607;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #0b4"
        gps-entity-place="latitude: 35.6294541; longitude: 139.7445823;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #0a5"
        gps-entity-place="latitude: 35.6294612; longitude: 139.7451647;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #096"
        gps-entity-place="latitude: 35.6297402; longitude: 139.7451778;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #087"
        gps-entity-place="latitude: 35.6300166; longitude: 139.7452076;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #078"
        gps-entity-place="latitude: 35.6303049; longitude: 139.7452364;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #069"
        gps-entity-place="latitude: 35.6306308; longitude: 139.7452794;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #05a"
        gps-entity-place="latitude: 35.6309030; longitude: 139.7452958;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #04b"
        gps-entity-place="latitude: 35.6311611; longitude: 139.7453333;"
        scale="5 5 5"
      ></a-box>
      <a-box
        material="color: #03c"
        gps-entity-place="latitude: 35.6314423; longitude: 139.7453843;"
        scale="5 5 5"
      ></a-box>

      <a-text
        id="text"
        value="MPC is here"
        look-at="[gps-camera]"
        scale="15 15 15"
        position="0 0 0"
        gps-entity-place="latitude: 35.6313144; longitude: 139.7455736;"
      ></a-text>
      <a-camera gps-camera="gpsMinDistance:10; minDistance:10; maxDistance:80;" rotation-reader> </a-camera>
    </a-scene>
    <script>
      window.addEventListener('load', () => {
        const text = document.getElementById('text');
        text.addEventListener('gps-entity-place-update-positon', (event) => {
          document.getElementById('debug').textContent = `last ${event.detail.distance} m`;
          text.setAttribute('value', text.getAttribute('distanceMsg') + ' left');
        });
      });
    </script>
  </body>
</html>